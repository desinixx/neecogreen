<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NeecoGreen | Eco-friendly products for a greener tomorrow</title>
    <meta name="description" content="Eco-friendly products for a greener tomorrow. Premium sustainable, plastic-free living.">
    <!--favicon-->
    <link rel="icon" type="image/x-icon" href="favicon.png">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Google Fonts: Poppins (Headings) & Inter (Body) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Razorpay -->
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            primary: '#2E7D32', // Dark Green
                            secondary: '#4CAF50', // Light Green
                            light: '#E8F5E9', // Very light green for backgrounds
                            dark: '#1B5E20', // Deep green for text/footer
                            gray: '#F5F5F5', // Soft Gray
                            surface: '#ffffff',
                        }
                    },
                    fontFamily: {
                        sans: ['"Inter"', 'sans-serif'],
                        display: ['"Poppins"', 'sans-serif'],
                    },
                    boxShadow: {
                        'soft': '0 10px 40px -10px rgba(46, 125, 50, 0.1)',
                        'card': '0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03)',
                        'hover': '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',
                        'glow': '0 0 15px rgba(76, 175, 80, 0.4)'
                    },
                    animation: {
                        'fade-in-up': 'fadeInUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'slide-up': 'slideUp 0.6s ease-out forwards',
                        'float': 'float 6s ease-in-out infinite',
                    },
                    keyframes: {
                        fadeInUp: {
                            '0%': { opacity: 0, transform: 'translateY(20px)' },
                            '100%': { opacity: 1, transform: 'translateY(0)' },
                        },
                        slideUp: {
                            '0%': { opacity: 0, transform: 'translateY(10px)' },
                            '100%': { opacity: 1, transform: 'translateY(0)' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #ffffff;
            color: #333;
            overflow-x: hidden;
        }
        
        h1, h2, h3, h4, h5, h6, .font-display { 
            font-family: 'Poppins', sans-serif; 
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #A5D6A7; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #81C784; }

        /* Loader */
        .loader { border: 2px solid #E8F5E9; border-top: 2px solid #2E7D32; border-radius: 50%; width: 18px; height: 18px; animation: spin 0.8s linear infinite; display: inline-block; vertical-align: middle; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .btn-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .btn-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px -10px rgba(46, 125, 50, 0.4);
        }
        .btn-hover:active {
            transform: translateY(0);
        }

        /* Leaf Watermark */
        .watermark-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            background-image: url('logo.png'); /* Assuming logo.png is the leaf icon as per request */
            background-repeat: repeat;
            background-size: 300px;
            opacity: 0.03;
        }

        .divider-leaf {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 3rem 0;
            opacity: 0.6;
        }
        .divider-leaf::before, .divider-leaf::after {
            content: "";
            flex: 1;
            border-bottom: 1px solid #E0E0E0;
            max-width: 200px;
            margin: 0 1rem;
        }
        .divider-leaf img {
            width: 24px;
            height: auto;
            opacity: 0.5;
        }

        /* Reveal Animation Class */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }
        .delay-100 { transition-delay: 100ms; }
        .delay-200 { transition-delay: 200ms; }
        .delay-300 { transition-delay: 300ms; }
    </style>
</head>
<body class="flex flex-col min-h-screen text-gray-800 antialiased">
    
    <!-- Background Watermark -->
    <div class="watermark-bg"></div>

    <!-- Navigation -->
    <header id="main-header" class="fixed w-full top-0 z-50 transition-all duration-300 bg-white/90 backdrop-blur-md border-b border-transparent">
        <div class="container mx-auto px-6 h-20 flex items-center justify-between">
            <!-- Logo -->
            <a href="#" onclick="router.navigate('home'); return false;" class="flex items-center gap-3 group relative z-50">
             <img src="green-logo.png" alt="NeecoGreen"
     class="h-32 sm:h-40 md:h-48 lg:h-56
            w-auto object-contain
            transition-transform duration-300 group-hover:scale-105">

                <!-- Fallback text if image fails to load properly visually, though requirement says use logos -->
                <!-- <span class="font-display text-2xl font-bold text-brand-primary tracking-tight">NeecoGreen</span> -->
            </a>

            <!-- Desktop Nav -->
            <nav class="hidden md:flex items-center gap-8 font-medium text-sm text-gray-600">
                <a href="#" onclick="router.navigate('home'); return false;" class="hover:text-brand-primary transition-colors relative py-2 after:content-[''] after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-brand-primary after:transition-all after:duration-300 hover:after:w-full">Home</a>
                <a href="#" onclick="router.navigate('shop'); return false;" class="hover:text-brand-primary transition-colors relative py-2 after:content-[''] after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-brand-primary after:transition-all after:duration-300 hover:after:w-full">Shop</a>
                <a href="#" onclick="router.navigate('about'); return false;" class="hover:text-brand-primary transition-colors relative py-2 after:content-[''] after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-brand-primary after:transition-all after:duration-300 hover:after:w-full">Mission</a>
                <a href="#" onclick="router.navigate('contact'); return false;" class="hover:text-brand-primary transition-colors relative py-2 after:content-[''] after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-brand-primary after:transition-all after:duration-300 hover:after:w-full">Contact</a>
            </nav>

            <!-- Actions -->
            <div class="flex items-center gap-4">
                <button onclick="router.navigate('cart')" class="relative p-2 text-gray-600 hover:text-brand-primary hover:bg-brand-light rounded-full transition-all duration-300 group">
                    <i data-lucide="shopping-bag" class="w-6 h-6"></i>
                    <span id="cart-count" class="absolute -top-1 -right-1 bg-brand-secondary text-white text-[10px] font-bold w-5 h-5 rounded-full flex items-center justify-center transform scale-0 transition-transform duration-300 ring-2 ring-white shadow-sm">0</span>
                </button>
                <button class="md:hidden p-2 text-gray-600 hover:bg-gray-100 rounded-full transition relative z-50" onclick="toggleMobileMenu()">
                    <i id="mobile-menu-icon" data-lucide="menu" class="w-6 h-6"></i>
                </button>
            </div>
        </div>

        <!-- Mobile Menu Overlay -->
        <div id="mobile-menu-overlay" onclick="toggleMobileMenu()" class="fixed inset-0 bg-black/30 backdrop-blur-sm z-30 opacity-0 pointer-events-none transition-opacity duration-300 md:hidden"></div>
        
        <!-- Mobile Menu Drawer -->
        <div id="mobile-menu" class="fixed top-0 right-0 h-full w-[280px] bg-white z-40 shadow-2xl transform translate-x-full transition-transform duration-300 ease-[cubic-bezier(0.16,1,0.3,1)] md:hidden flex flex-col pt-24 px-6 pb-6">
            <div class="flex flex-col gap-6 text-lg font-medium text-gray-800 font-display">
                <a href="#" onclick="router.navigate('home'); return false;" class="flex items-center justify-between py-2 border-b border-gray-100 hover:text-brand-primary">Home <i data-lucide="chevron-right" class="w-4 h-4 text-gray-400"></i></a>
                <a href="#" onclick="router.navigate('shop'); return false;" class="flex items-center justify-between py-2 border-b border-gray-100 hover:text-brand-primary">Shop Eco <i data-lucide="chevron-right" class="w-4 h-4 text-gray-400"></i></a>
                <a href="#" onclick="router.navigate('about'); return false;" class="flex items-center justify-between py-2 border-b border-gray-100 hover:text-brand-primary">Mission <i data-lucide="chevron-right" class="w-4 h-4 text-gray-400"></i></a>
                <a href="#" onclick="router.navigate('contact'); return false;" class="flex items-center justify-between py-2 border-b border-gray-100 hover:text-brand-primary">Contact <i data-lucide="chevron-right" class="w-4 h-4 text-gray-400"></i></a>
            </div>
            <div class="mt-auto bg-brand-light p-6 rounded-2xl">
                <p class="text-sm text-brand-dark font-semibold mb-2 font-display">Need help?</p>
                <a href="mailto:greenneeco@gmail.com" class="text-sm text-gray-600 hover:text-brand-primary">greenneeco@gmail.com</a>
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main id="app" class="flex-grow pt-24 pb-20 relative z-10 min-h-[80vh] transition-all duration-500">
        <!-- Content injected by JS -->
    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 pt-20 pb-10 relative z-10">
        <div class="container mx-auto px-6">
            <div class="grid md:grid-cols-4 gap-12 lg:gap-16 mb-16">
                <div class="md:col-span-1 space-y-6">
                    <!-- Footer Logo: Green text or logo image? Requirement says "Clean footer with: Logo" -->
                    <img src="green-logo.png" alt="NeecoGreen" class="h-32 md:h-36 w-auto">
                    <p class="text-gray-500 text-sm leading-relaxed">
                        Redefining daily essentials with a commitment to our planet. 100% plastic-free, ethically sourced, and mindfully crafted.
                    </p>
                    <div class="flex gap-4">
                        <a href="#" class="w-10 h-10 rounded-full bg-brand-light flex items-center justify-center text-brand-primary hover:bg-brand-primary hover:text-white transition-all duration-300"><i data-lucide="instagram" class="w-5 h-5"></i></a>
                        <a href="#" class="w-10 h-10 rounded-full bg-brand-light flex items-center justify-center text-brand-primary hover:bg-brand-primary hover:text-white transition-all duration-300"><i data-lucide="facebook" class="w-5 h-5"></i></a>
                        <a href="#" class="w-10 h-10 rounded-full bg-brand-light flex items-center justify-center text-brand-primary hover:bg-brand-primary hover:text-white transition-all duration-300"><i data-lucide="twitter" class="w-5 h-5"></i></a>
                    </div>
                </div>
                
                <div>
                    <h4 class="font-bold font-display text-gray-900 mb-6 text-sm uppercase tracking-wider">Shop</h4>
                    <ul class="space-y-4 text-sm text-gray-500">
                        <li><a href="#" onclick="router.navigate('shop'); return false;" class="hover:text-brand-primary transition-colors">All Products</a></li>
                        <li><a href="#" onclick="router.navigate('shop'); return false;" class="hover:text-brand-primary transition-colors">Best Sellers</a></li>
                        <li><a href="#" onclick="router.navigate('shop'); return false;" class="hover:text-brand-primary transition-colors">New Arrivals</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="font-bold font-display text-gray-900 mb-6 text-sm uppercase tracking-wider">Support</h4>
                    <ul class="space-y-4 text-sm text-gray-500">
                         <li><a href="#" onclick="router.navigate('shipping-policy')" class="hover:text-brand-primary transition-colors">Shipping Policy</a></li>
                        <li><a href="#" onclick="router.navigate('refund-policy')" class="hover:text-brand-primary transition-colors">Returns & Refunds</a></li>
                        <li><a href="#" onclick="router.navigate('privacy-policy')" class="hover:text-brand-primary transition-colors">Privacy Policy</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="font-bold font-display text-gray-900 mb-6 text-sm uppercase tracking-wider">Contact</h4>
                    <ul class="space-y-4 text-sm text-gray-500">
                        <li class="flex items-center gap-3"><i data-lucide="mail" class="w-4 h-4 text-brand-primary"></i> greenneeco@gmail.com</li>
                        <li class="flex items-center gap-3"><i data-lucide="phone" class="w-4 h-4 text-brand-primary"></i> +91 99999999999</li>
                        <li class="flex items-center gap-3"><i data-lucide="map-pin" class="w-4 h-4 text-brand-primary"></i> India</li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-100 pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-gray-400">
                <p>&copy; 2026 NeecoGreen India. All rights reserved.</p>
                <div class="flex items-center gap-2">
                    <span class="text-xs">Secure payments by</span>
                    <img src="https://cdn.iconscout.com/icon/free/png-256/razorpay-1649771-1399875.png" alt="Razorpay" class="h-16 opacity-60 grayscale hover:grayscale-0 transition-all">
                </div>
            </div>
        </div>
    </footer>

    <!-- LOGIC -->
    <script>
        // CONFIGURATION
        const RAZORPAY_KEY_ID = "rzp_live_S7DO0WIRXn1Qqr"; 

        // --- DATA STORE ---
        const products = [
            { id: 1, name: "Bamboo Toothbrush ", price: 40, image: "https://i.ibb.co/YFKJMdPW/BAMBOO-BRUSH.webp", category: "Personal Care", description: "Say goodbye to plastic and switch to a smarter, sustainable choice with our 100% natural Bamboo Toothbrush. Crafted from biodegradable bamboo and soft, BPA-free bristles, this toothbrush is designed to keep your teeth clean and your conscience clear.", badges: ["Plastic Free", "Bestseller"], materials: "Moso Bamboo, Charcoal Bristles", dimensions: "18cm Length", weight: 0.1 },
            { id: 2, name: "Cottton Buds", price: 899, image: "https://i.ibb.co/sJXqb8gn/buds.jpg", category: "Wellness", description: "coming soon.....", badges: ["Ayurvedic", "Artisan"], materials: "99% Pure Copper", dimensions: "1 Litre Capacity", weight: 0.4 },
            { id: 3, name: "bamboo tongue cleaner", price: 199, image: "https://i.ibb.co/W4k0LB3W/unnamed.jpg", category: "Accessories", description: "coming soon.....", badges: ["Organic"], materials: "100% GOTS Certified Cotton", dimensions: "38x42cm", weight: 0.2 },
            { id: 4, name: "Eco-product Combo", price: 349, image: "https://i.ibb.co/zhmtwHHF/unnamed.jpg", category: "Hair Care", description: "coming soon.....", badges: ["Handmade"], materials: "Neem Wood", dimensions: "Set of 2 (Wide & Fine Tooth)", weight: 0.15 },
            { id: 5, name: "coming soon.....", price: 249, image: "https://i.pinimg.com/736x/8c/db/1b/8cdb1be8b87fc5dabb29b12ad2f385ba.jpg", category: "Kitchen", description: "coming soon.....", badges: ["Reusable"], materials: "304 Stainless Steel", dimensions: "215mm Length", weight: 0.1 },
            { id: 6, name: "coming soon.....", price: 449, image: "https://i.pinimg.com/736x/8c/db/1b/8cdb1be8b87fc5dabb29b12ad2f385ba.jpg", category: "Home", description: "coming soon.....", badges: ["Vegan", "Upcycled"], materials: "Coconut Shell, Soy Wax", dimensions: "10cm Diameter", weight: 0.3 }
        ];

        // --- STATE MANAGEMENT ---
        const store = {
            cart: JSON.parse(localStorage.getItem('neeco_cart')) || [],
            shipping: 0, 

            addToCart(product, qty = 1) {
                const existing = this.cart.find(item => item.id === product.id);
                if (existing) { existing.qty += qty; } 
                else { this.cart.push({ ...product, qty }); }
                this.saveCart();
                renderToast(`Added ${product.name} to cart`);
            },
            removeFromCart(id) {
                this.cart = this.cart.filter(item => item.id !== id);
                this.saveCart();
            },
            updateQty(id, delta) {
                const item = this.cart.find(item => item.id === id);
                if (item) {
                    item.qty += delta;
                    if (item.qty <= 0) this.removeFromCart(id);
                    else this.saveCart();
                }
            },
            clearCart() {
                this.cart = [];
                this.shipping = 0;
                this.saveCart();
            },
            saveCart() {
                localStorage.setItem('neeco_cart', JSON.stringify(this.cart));
                updateCartUI();
                if (router.currentPage === 'cart') router.navigate('cart');
            },
            getCartTotal() {
                return this.cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
            },
            getCartWeight() {
                return this.cart.reduce((w, item) => w + ((item.weight || 0.5) * item.qty), 0);
            },
            getFinalAmount() {
                return this.getCartTotal() + this.shipping;
            }
        };

        const shippingPolicyText = `
            <p class="mb-4"><strong>Effective Date:</strong> January 1, 2026</p>
            <p>At NeecoGreen, we ensure your eco-friendly products reach you safely. We partner with top-tier logistics providers to offer reliable coverage across India.</p>
            <h3 class="text-lg font-bold text-gray-900 mt-8 mb-3 font-display">Delivery Timelines</h3>
            <ul class="list-disc ml-5 space-y-2 text-gray-600">
                <li><strong>Metros:</strong> 3-5 business days</li>
                <li><strong>Rest of India:</strong> 5-7 business days</li>
            </ul>
        `;

        const privacyPolicyText = `
            <p class="mb-4"><strong>Effective Date:</strong> January 1, 2026</p>
            <p>Your privacy is paramount. We only collect essential information (Name, Contact, Address) required to fulfill your orders. We never sell your data.</p>
        `;

        const refundPolicyText = `
            <p class="mb-4"><strong>Effective Date:</strong> January 1, 2026</p>
            <p>We accept returns within 7 days of delivery for unused items in original packaging. Personal care items are non-returnable for hygiene reasons.</p>
        `;

        // --- ROUTER ---
        const router = {
            currentPage: 'home',
            navigate(page, params = null) {
                this.currentPage = page;
                const app = document.getElementById('app');
                window.scrollTo({top: 0, behavior: 'smooth'});
                
                // Close mobile menu if open
                document.getElementById('mobile-menu').classList.add('translate-x-full');
                document.getElementById('mobile-menu-overlay').classList.remove('opacity-100', 'pointer-events-auto');
                document.getElementById('mobile-menu-overlay').classList.add('opacity-0', 'pointer-events-none');

                // Fade out old content
                app.style.opacity = '0';
                app.style.transform = 'translateY(10px)';

                setTimeout(() => {
                    switch(page) {
                        case 'home': renderHome(app); break;
                        case 'shop': renderShop(app, params); break;
                        case 'product': renderProduct(app, params); break;
                        case 'cart': renderCart(app); break;
                        case 'checkout': renderCheckout(app); break;
                        case 'order-success': renderOrderSuccess(app, params); break;
                        case 'about': renderAbout(app); break;
                        case 'contact': renderContact(app); break;
                        case 'shipping-policy': renderPolicy(app, 'Shipping Policy', shippingPolicyText); break;
                        case 'refund-policy': renderPolicy(app, 'Refund & Returns', refundPolicyText); break;
                        case 'privacy-policy': renderPolicy(app, 'Privacy Policy', privacyPolicyText); break;
                        case '404': render404(app); break;
                        default: render404(app);
                    }
                    lucide.createIcons();
                    initScrollAnimations();
                    
                    // Fade in new content
                    app.style.opacity = '1';
                    app.style.transform = 'translateY(0)';
                }, 200);
            }
        };

        // --- RENDER FUNCTIONS ---
        function renderHome(container) {
            container.innerHTML = `
                <!-- Hero Section: Soft gradient green background, rounded corners -->
                <section class="container mx-auto px-4 sm:px-0 mb-16">
                    <div class="relative rounded-[2rem] md:rounded-[3rem] overflow-hidden min-h-[550px] flex items-center bg-gradient-to-br from-[#E8F5E9] via-[#C8E6C9] to-[#A5D6A7] shadow-soft reveal">
                        <!-- Decorative shapes -->
                        <div class="absolute top-[-20%] right-[-10%] w-[500px] h-[500px] bg-white/20 rounded-full blur-3xl animate-float"></div>
                        <div class="absolute bottom-[-10%] left-[-10%] w-[300px] h-[300px] bg-brand-primary/10 rounded-full blur-2xl"></div>

                        <div class="relative z-10 w-full px-8 md:px-20 grid md:grid-cols-2 gap-12 items-center">
                            <div class="text-left">
                                <img src="green-logo.png" alt="Brand" class="h-20 mb-8 animate-fade-in-up">
                                <h1 class="text-4xl md:text-6xl font-extrabold font-display text-brand-dark mb-6 leading-[1.1] animate-fade-in-up delay-100">
                                    Eco-friendly products for a <span class="text-brand-secondary">greener tomorrow</span>
                                </h1>
                                <p class="text-lg text-brand-dark/80 mb-10 max-w-lg font-medium leading-relaxed animate-fade-in-up delay-200">
                                    Join the movement towards a sustainable future with our premium, plastic-free essentials.
                                </p>
                                <div class="flex flex-wrap gap-4 animate-fade-in-up delay-300">
                                    <button onclick="router.navigate('shop')" class="bg-brand-primary text-white hover:bg-brand-dark px-10 py-4 rounded-full font-bold text-lg shadow-glow hover:shadow-xl btn-hover flex items-center gap-2">
                                        Shop Collection <i data-lucide="arrow-right" class="w-5 h-5"></i>
                                    </button>
                                    <button onclick="router.navigate('about')" class="bg-white text-brand-dark border border-white hover:bg-brand-light px-10 py-4 rounded-full font-bold text-lg shadow-sm btn-hover">
                                        Our Mission
                                    </button>
                                </div>
                            </div>
                            <div class="hidden md:block relative animate-fade-in-up delay-300">
                                <!-- Hero Image with soft edges/illustration style or a nice product composition -->
                                <img src="https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?auto=format&fit=crop&q=80&w=800" class="rounded-[2rem] shadow-2xl rotate-3 hover:rotate-0 transition-transform duration-700 object-cover w-full max-w-md mx-auto border-4 border-white/50">
                            </div>
                        </div>
                    </div>
                </section>

                <div class="divider-leaf reveal">
                    <img src="logo.png" alt="leaf">
                </div>

                <!-- Features Grid -->
                <section class="container mx-auto px-6 mb-24">
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                        <div class="p-6 rounded-2xl bg-white shadow-card hover:shadow-hover transition-all duration-300 text-center group reveal border border-gray-50">
                            <div class="w-12 h-12 mx-auto mb-4 bg-brand-light rounded-full flex items-center justify-center text-brand-primary group-hover:scale-110 transition-transform">
                                <i data-lucide="leaf" class="w-6 h-6"></i>
                            </div>
                            <h3 class="font-bold font-display text-gray-900 mb-1">100% Organic</h3>
                            <p class="text-xs text-gray-500">Certified natural materials</p>
                        </div>
                        <div class="p-6 rounded-2xl bg-white shadow-card hover:shadow-hover transition-all duration-300 text-center group reveal delay-100 border border-gray-50">
                            <div class="w-12 h-12 mx-auto mb-4 bg-brand-light rounded-full flex items-center justify-center text-brand-primary group-hover:scale-110 transition-transform">
                                <i data-lucide="recycle" class="w-6 h-6"></i>
                            </div>
                            <h3 class="font-bold font-display text-gray-900 mb-1">Zero Waste</h3>
                            <p class="text-xs text-gray-500">Plastic-free packaging</p>
                        </div>
                        <div class="p-6 rounded-2xl bg-white shadow-card hover:shadow-hover transition-all duration-300 text-center group reveal delay-200 border border-gray-50">
                            <div class="w-12 h-12 mx-auto mb-4 bg-brand-light rounded-full flex items-center justify-center text-brand-primary group-hover:scale-110 transition-transform">
                                <i data-lucide="heart" class="w-6 h-6"></i>
                            </div>
                            <h3 class="font-bold font-display text-gray-900 mb-1">Ethical</h3>
                            <p class="text-xs text-gray-500">Fair wages & trade</p>
                        </div>
                        <div class="p-6 rounded-2xl bg-white shadow-card hover:shadow-hover transition-all duration-300 text-center group reveal delay-300 border border-gray-50">
                            <div class="w-12 h-12 mx-auto mb-4 bg-brand-light rounded-full flex items-center justify-center text-brand-primary group-hover:scale-110 transition-transform">
                                <i data-lucide="truck" class="w-6 h-6"></i>
                            </div>
                            <h3 class="font-bold font-display text-gray-900 mb-1">Fast Delivery</h3>
                            <p class="text-xs text-gray-500">Carbon neutral shipping</p>
                        </div>
                    </div>
                </section>

                <div class="divider-leaf reveal">
                    <img src="logo.png" alt="leaf">
                </div>

                <!-- Featured Products (Limit to 4 for desktop row) -->
                <section class="container mx-auto px-6 mb-24">
                    <div class="text-center mb-12 reveal">
                        <span class="text-brand-secondary font-bold tracking-widest uppercase text-xs mb-2 block">Best Sellers</span>
                        <h2 class="text-3xl md:text-4xl font-bold font-display text-gray-900">Green Essentials</h2>
                    </div>
                    <!-- Requirement: Desktop 4 products, Tablet 3, Mobile 2 -->
                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-8">
                        ${products.slice(0, 4).map((product, index) => renderProductCard(product, index)).join('')}
                    </div>
                    <div class="text-center mt-12 reveal">
                        <button onclick="router.navigate('shop')" class="text-brand-primary font-bold hover:text-brand-dark transition-colors inline-flex items-center gap-2 border-b-2 border-transparent hover:border-brand-primary pb-1">
                            View All Products <i data-lucide="arrow-right" class="w-4 h-4"></i>
                        </button>
                    </div>
                </section>
                
                <!-- CTA Section -->
                <section class="container mx-auto px-6 mb-16 reveal">
                    <div class="bg-brand-dark rounded-[2.5rem] p-10 md:p-20 text-center text-white relative overflow-hidden shadow-2xl">
                         <!-- Leaf icon as low opacity watermark -->
                         <div class="absolute -right-20 -bottom-20 opacity-10 rotate-12">
                             <img src="white-logo.png" class="w-96 h-auto">
                         </div>
                         
                         <div class="relative z-10 max-w-3xl mx-auto">
                            <h2 class="text-3xl md:text-5xl font-bold font-display mb-6">Make a difference today</h2>
                            <p class="text-brand-light/80 text-lg mb-10 leading-relaxed font-light">
                                Every plastic item refused is a victory for our planet. Start your sustainable journey with NeecoGreen.
                            </p>
                            <button onclick="router.navigate('shop')" class="bg-white text-brand-dark hover:bg-brand-gray px-12 py-4 rounded-full font-bold text-lg shadow-lg transition-all transform hover:-translate-y-1 btn-hover">
                                Shop Sustainably
                            </button>
                         </div>
                    </div>
                </section>
            `;
        }

        function renderShop(container) {
            container.innerHTML = `
                <div class="container mx-auto px-6 mb-12 pt-8 reveal">
                    <div class="text-center max-w-2xl mx-auto">
                        <h1 class="text-4xl md:text-5xl font-bold font-display text-gray-900 mb-4">Shop All Products</h1>
                        <p class="text-gray-500 text-lg">Curated essentials for a zero-waste lifestyle.</p>
                    </div>
                </div>
                <div class="container mx-auto px-6">
                    <!-- Requirement: Desktop 4, Tablet 3, Mobile 2 -->
                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-4 md:gap-x-8 gap-y-10">
                        ${products.map((product, index) => renderProductCard(product, index)).join('')}
                    </div>
                </div>
            `;
        }

        function renderProductCard(product, index) {
            // Requirement: Rounded corners, subtle shadows, smooth hover (scale), image, name, price, eco badge, add to cart
            const delay = (index % 4) * 100;
            return `
                <div class="group flex flex-col h-full bg-white rounded-2xl overflow-hidden hover:shadow-hover transition-all duration-500 border border-gray-100 reveal delay-[${delay}ms] cursor-pointer relative" onclick="router.navigate('product', ${product.id})">
                    <div class="relative overflow-hidden aspect-[4/5] bg-brand-light/20">
                        <img src="${product.image}" alt="${product.name}" class="object-cover w-full h-full transform group-hover:scale-110 transition-transform duration-700 ease-in-out">
                        
                        <!-- Eco Badge -->
                        ${product.badges[0] ? `
                        <div class="absolute top-3 left-3 flex items-center gap-1 bg-white/90 backdrop-blur-sm text-brand-dark text-[10px] font-bold px-2 py-1 rounded-full shadow-sm border border-brand-light">
                            <i data-lucide="leaf" class="w-3 h-3 text-brand-secondary"></i> ${product.badges[0]}
                        </div>` : ''}

                        <!-- Add to Cart (Desktop Hover / Mobile Visible) -->
                        <button class="absolute bottom-3 right-3 bg-white text-brand-primary p-2.5 rounded-full shadow-md md:opacity-0 md:translate-y-4 md:group-hover:opacity-100 md:group-hover:translate-y-0 transition-all duration-300 hover:bg-brand-primary hover:text-white z-20" onclick="event.stopPropagation(); store.addToCart(products.find(p => p.id === ${product.id}))">
                            <i data-lucide="shopping-cart" class="w-5 h-5"></i>
                        </button>
                    </div>
                    
                    <div class="p-4 flex flex-col flex-grow">
                        <div class="text-[10px] text-brand-secondary font-bold uppercase tracking-widest mb-1 opacity-80">${product.category}</div>
                        <h3 class="font-bold font-display text-gray-900 text-sm md:text-base mb-2 leading-snug group-hover:text-brand-primary transition-colors line-clamp-2">${product.name}</h3>
                        <div class="mt-auto flex items-center justify-between">
                            <span class="text-base md:text-lg font-bold text-gray-900">₹${product.price}</span>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderProduct(container, productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return router.navigate('shop');
            container.innerHTML = `
                <div class="container mx-auto px-6 py-8">
                    <button onclick="window.history.back()" class="inline-flex items-center gap-2 text-gray-500 hover:text-brand-primary mb-8 font-medium transition-colors group">
                        <i data-lucide="arrow-left" class="w-4 h-4 group-hover:-translate-x-1 transition-transform"></i> Back to Shop
                    </button>
                    
                    <div class="grid md:grid-cols-2 gap-12 lg:gap-20 items-start bg-white p-6 md:p-10 rounded-[2.5rem] shadow-soft border border-gray-50 animate-fade-in-up">
                        <div class="rounded-3xl overflow-hidden bg-brand-light/30 aspect-[4/5] relative group shadow-inner">
                             <img src="${product.image}" class="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700">
                        </div>
                        <div class="md:py-4">
                            <div class="flex items-center gap-2 mb-4">
                                <span class="px-3 py-1 rounded-full bg-brand-light text-brand-dark font-bold text-xs uppercase tracking-wider">${product.category}</span>
                                <span class="px-3 py-1 rounded-full bg-orange-50 text-orange-700 font-bold text-xs uppercase tracking-wider flex items-center gap-1"><i data-lucide="star" class="w-3 h-3 fill-current"></i> 4.8</span>
                            </div>
                            
                            <h1 class="text-3xl md:text-4xl font-bold font-display text-gray-900 mb-4 leading-tight">${product.name}</h1>
                            
                            <div class="flex items-end gap-4 mb-8">
                                <span class="text-4xl font-bold text-brand-primary">₹${product.price}</span>
                                <span class="text-sm text-gray-400 mb-2 line-through">₹${Math.round(product.price * 1.2)}</span>
                            </div>

                            <p class="text-gray-600 text-lg leading-relaxed mb-8 font-light">
                                ${product.description}
                            </p>

                            <div class="grid grid-cols-2 gap-4 mb-10">
                                <div class="bg-gray-50 p-4 rounded-xl border border-gray-100">
                                    <h4 class="font-bold text-gray-900 text-xs uppercase mb-1 flex items-center gap-2"><i data-lucide="layers" class="w-4 h-4 text-brand-secondary"></i> Materials</h4>
                                    <p class="text-sm text-gray-600">${product.materials}</p>
                                </div>
                                <div class="bg-gray-50 p-4 rounded-xl border border-gray-100">
                                    <h4 class="font-bold text-gray-900 text-xs uppercase mb-1 flex items-center gap-2"><i data-lucide="ruler" class="w-4 h-4 text-brand-secondary"></i> Dimensions</h4>
                                    <p class="text-sm text-gray-600">${product.dimensions}</p>
                                </div>
                            </div>

                            <div class="flex flex-col gap-4">
                                <button onclick="store.addToCart(products.find(p => p.id === ${product.id}))" class="w-full bg-brand-primary hover:bg-brand-dark text-white font-bold py-5 rounded-2xl transition-all shadow-glow hover:shadow-lg flex items-center justify-center gap-3 btn-hover text-lg">
                                    <i data-lucide="shopping-bag" class="w-5 h-5"></i> Add to Cart
                                </button>
                                <div class="flex items-center justify-center gap-4 mt-4 text-xs text-gray-400">
                                    <span class="flex items-center gap-1"><i data-lucide="shield-check" class="w-3 h-3"></i> Secure Payment</span>
                                    <span class="flex items-center gap-1"><i data-lucide="truck" class="w-3 h-3"></i> Fast Shipping</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderCart(container) {
            if (store.cart.length === 0) {
                container.innerHTML = `
                    <div class="container mx-auto px-6 text-center py-24 animate-fade-in-up">
                        <div class="bg-brand-light w-32 h-32 rounded-full flex items-center justify-center mx-auto mb-8 text-brand-primary">
                            <i data-lucide="shopping-bag" class="w-12 h-12"></i>
                        </div>
                        <h2 class="text-3xl font-bold font-display text-gray-900 mb-4">Your cart is empty</h2>
                        <p class="text-gray-500 mb-10 max-w-md mx-auto">It seems you haven't discovered our sustainable treasures yet.</p>
                        <button onclick="router.navigate('shop')" class="bg-brand-primary text-white px-10 py-4 rounded-full font-bold hover:bg-brand-dark transition shadow-lg btn-hover">
                            Start Shopping
                        </button>
                    </div>`;
                return;
            }
            container.innerHTML = `
                <div class="container mx-auto px-6 py-8">
                    <h1 class="text-3xl font-bold font-display mb-10 text-gray-900 animate-fade-in-up">Shopping Cart</h1>
                    <div class="grid lg:grid-cols-3 gap-12 animate-fade-in-up delay-100">
                        <div class="lg:col-span-2 space-y-6">
                            ${store.cart.map(item => `
                                <div class="flex gap-4 md:gap-6 bg-white p-4 pr-6 rounded-3xl shadow-card border border-gray-100 items-center hover:shadow-md transition-shadow">
                                    <div class="w-20 h-20 md:w-24 md:h-24 bg-brand-light/30 rounded-2xl overflow-hidden flex-shrink-0">
                                        <img src="${item.image}" class="w-full h-full object-cover">
                                    </div>
                                    <div class="flex-grow">
                                        <h3 class="font-bold text-base md:text-lg text-gray-900 mb-1 font-display">${item.name}</h3>
                                        <p class="text-brand-primary font-bold text-lg">₹${item.price}</p>
                                    </div>
                                    <div class="flex flex-col md:flex-row items-center gap-3">
                                        <div class="flex items-center gap-2 bg-gray-50 rounded-xl p-1 border border-gray-100">
                                            <button onclick="store.updateQty(${item.id}, -1)" class="w-7 h-7 flex items-center justify-center bg-white rounded-lg shadow-sm hover:bg-gray-100 transition font-bold text-gray-600">-</button>
                                            <span class="font-bold text-gray-800 w-6 text-center text-sm">${item.qty}</span>
                                            <button onclick="store.updateQty(${item.id}, 1)" class="w-7 h-7 flex items-center justify-center bg-white rounded-lg shadow-sm hover:bg-gray-100 transition font-bold text-gray-600">+</button>
                                        </div>
                                        <button onclick="store.removeFromCart(${item.id})" class="text-gray-400 hover:text-red-500 p-2 transition"><i data-lucide="trash-2" class="w-5 h-5"></i></button>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        <div class="lg:col-span-1">
                            <div class="bg-white p-8 rounded-3xl shadow-soft border border-gray-50 sticky top-24">
                                <h3 class="font-bold text-xl mb-6 text-gray-900 font-display">Order Summary</h3>
                                <div class="space-y-4 mb-8">
                                    <div class="flex justify-between text-gray-600"><span>Subtotal</span><span class="font-medium text-gray-900">₹${store.getCartTotal()}</span></div>
                                    <div class="flex justify-between text-gray-600"><span>Shipping</span><span class="text-xs bg-brand-light text-brand-dark font-bold px-2 py-1 rounded">Calculated at Checkout</span></div>
                                </div>
                                <div class="h-px bg-gray-100 mb-6"></div>
                                <button onclick="router.navigate('checkout')" class="w-full bg-brand-primary hover:bg-brand-dark text-white py-4 rounded-xl font-bold shadow-glow transition-all btn-hover flex items-center justify-center gap-2">
                                    Proceed to Checkout <i data-lucide="arrow-right" class="w-4 h-4"></i>
                                </button>
                                <p class="text-xs text-center text-gray-400 mt-4">Safe & Secure Payment</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderCheckout(container) {
            store.shipping = 0;
            container.innerHTML = `
                <div class="container mx-auto px-6 py-8">
                    <div class="max-w-3xl mx-auto animate-fade-in-up">
                        <div class="text-center mb-10">
                             <h1 class="text-3xl font-bold font-display text-gray-900">Secure Checkout</h1>
                             <p class="text-gray-500 mt-2">Final step to a greener lifestyle</p>
                        </div>
                        
                        <form id="checkout-form" onsubmit="handlePayment(event)" class="bg-white p-6 md:p-12 rounded-[2.5rem] shadow-xl border border-gray-100 relative overflow-hidden">
                            <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-brand-secondary to-brand-primary"></div>
                            
                            <!-- Section 1 -->
                            <div class="mb-10">
                                <h3 class="font-bold text-lg mb-6 flex items-center gap-3 text-gray-900 font-display">
                                    <span class="bg-brand-primary text-white w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold shadow-md">1</span> 
                                    Contact Details
                                </h3>
                                <div class="grid md:grid-cols-2 gap-6 mb-6">
                                    <div>
                                        <label class="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2">Full Name</label>
                                        <input type="text" id="cust-name" required placeholder="John Doe" class="w-full p-4 bg-gray-50 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-brand-primary/20 transition-all text-gray-900 placeholder-gray-400">
                                    </div>
                                    <div>
                                        <label class="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2">Phone Number</label>
                                        <input type="tel" id="cust-phone" required pattern="[0-9]{10}" placeholder="9876543210" class="w-full p-4 bg-gray-50 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-brand-primary/20 transition-all text-gray-900 placeholder-gray-400">
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2">Email Address</label>
                                    <input type="email" id="cust-email" required placeholder="john@example.com" class="w-full p-4 bg-gray-50 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-brand-primary/20 transition-all text-gray-900 placeholder-gray-400">
                                </div>
                            </div>

                            <div class="w-full h-px bg-gray-100 mb-10"></div>

                            <!-- Section 2 -->
                            <div class="mb-10">
                                <h3 class="font-bold text-lg mb-6 flex items-center gap-3 text-gray-900 font-display">
                                    <span class="bg-brand-primary text-white w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold shadow-md">2</span> 
                                    Shipping Address
                                </h3>
                                <div class="mb-6">
                                    <label class="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2">Street Address</label>
                                    <input type="text" id="cust-address" required placeholder="123 Green Street, Eco City" class="w-full p-4 bg-gray-50 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-brand-primary/20 transition-all text-gray-900 placeholder-gray-400">
                                </div>
                                <div class="grid grid-cols-2 gap-6 mb-6">
                                     <div>
                                        <label class="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2">City</label>
                                        <input type="text" id="cust-city" required class="w-full p-4 bg-gray-50 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-brand-primary/20 transition-all text-gray-900 placeholder-gray-400">
                                    </div>
                                    <div>
                                        <label class="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2">State</label>
                                        <input type="text" id="cust-state" required class="w-full p-4 bg-gray-50 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-brand-primary/20 transition-all text-gray-900 placeholder-gray-400">
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2">Pincode</label>
                                    <div class="relative">
                                        <input type="text" id="cust-pincode" required pattern="[0-9]{6}" maxlength="6" 
                                               oninput="if(this.value.length===6) calculateShipping(this.value)"
                                               placeholder="110001"
                                               class="w-full p-4 bg-gray-50 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-brand-primary/20 transition-all text-gray-900 placeholder-gray-400">
                                        <div class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none">
                                            <i data-lucide="map-pin" class="w-5 h-5"></i>
                                        </div>
                                    </div>
                                    <p id="pincode-msg" class="text-xs mt-2 text-brand-primary font-medium flex items-center gap-1">Enter 6-digit pincode to calculate shipping</p>
                                </div>
                            </div>

                            <!-- Summary -->
                            <div class="bg-gray-50 p-6 md:p-8 rounded-2xl mb-8 border border-gray-200/50">
                                <div class="flex justify-between text-gray-600 mb-3">
                                    <span>Cart Total</span>
                                    <span class="font-medium">₹${store.getCartTotal()}</span>
                                </div>
                                <div class="flex justify-between text-gray-600 mb-4">
                                    <span>Shipping Charges</span>
                                    <span id="shipping-display" class="font-bold text-brand-primary">--</span>
                                </div>
                                <div class="h-px bg-gray-200 my-4"></div>
                                <div class="flex justify-between items-center">
                                    <div>
                                        <p class="text-sm text-gray-500 mb-1">Total Payable</p>
                                        <p class="text-3xl font-bold text-gray-900" id="total-display">₹${store.getCartTotal()}</p>
                                    </div>
                                    <div class="bg-white p-2 rounded-lg border border-gray-100">
                                         <img src="https://cdn.iconscout.com/icon/free/png-256/razorpay-1649771-1399875.png" alt="Razorpay" class="h-16 opacity-80">
                                    </div>
                                </div>
                            </div>

                            <button type="submit" id="pay-btn" class="w-full bg-brand-dark hover:bg-brand-primary text-white py-5 rounded-2xl font-bold shadow-lg transition-all btn-hover flex items-center justify-center gap-3 text-lg">
                                <i data-lucide="lock" class="w-5 h-5"></i> Pay Securely
                            </button>
                        </form>
                    </div>
                </div>
            `;
        }

        function renderOrderSuccess(container, params) {
            container.innerHTML = `
                <div class="container mx-auto px-6 text-center py-20 max-w-lg mx-auto animate-scale-in">
                    <div class="w-28 h-28 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-8 text-brand-primary shadow-glow">
                        <i data-lucide="check" class="w-14 h-14"></i>
                    </div>
                    <h1 class="text-4xl font-bold font-display text-gray-900 mb-4">Order Confirmed!</h1>
                    <p class="text-gray-500 mb-8 text-lg">Thank you for being part of the solution. Your planet-friendly goodies are on their way.</p>
                    <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm mb-10">
                        <p class="text-sm text-gray-400 uppercase tracking-widest font-bold mb-1">Order ID</p>
                        <p class="font-mono font-bold text-xl text-gray-800 tracking-wider">${params.id}</p>
                    </div>
                    <button onclick="router.navigate('shop')" class="bg-brand-primary text-white px-10 py-4 rounded-full font-bold hover:bg-brand-dark transition shadow-lg btn-hover">
                        Continue Shopping
                    </button>
                </div>
            `;
        }

        function renderAbout(container) {
            container.innerHTML = `
                <div class="container mx-auto px-6 py-10 animate-fade-in-up">
                    <div class="text-center mb-16 max-w-3xl mx-auto">
                        <h1 class="text-4xl md:text-5xl font-bold font-display text-gray-900 mb-6">Our Mission</h1>
                        <p class="text-xl text-gray-500">To make sustainable living accessible, affordable, and aesthetically pleasing for everyone.</p>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-10 items-center mb-20 bg-white p-6 rounded-[2.5rem] shadow-soft">
                        <div class="rounded-[2rem] overflow-hidden h-[400px]">
                            <img src="https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?auto=format&fit=crop&q=80&w=800" class="w-full h-full object-cover hover:scale-105 transition-transform duration-700">
                        </div>
                        <div class="prose prose-lg text-gray-600 p-4">
                            <h3 class="text-2xl font-bold font-display text-gray-900 mb-4">Why NeecoGreen?</h3>
                            <p class="mb-4 leading-relaxed">It started with a simple observation: plastic is everywhere, and alternatives are often hard to find or expensive. We wanted to change that.</p>
                            <p class="leading-relaxed">We partner directly with local Indian artisans and sustainable manufacturers to curate products that look good, feel good, and do good.</p>
                            
                            <div class="mt-8 flex gap-4">
                                <div class="text-center">
                                    <span class="block text-3xl font-bold text-brand-primary">100+</span>
                                    <span class="text-xs uppercase font-bold text-gray-400">Artisans</span>
                                </div>
                                <div class="w-px bg-gray-200"></div>
                                <div class="text-center">
                                    <span class="block text-3xl font-bold text-brand-primary">5k+</span>
                                    <span class="text-xs uppercase font-bold text-gray-400">Happy Customers</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderContact(container) {
            container.innerHTML = `
                <div class="container mx-auto px-6 py-10 animate-fade-in-up">
                    <div class="max-w-3xl mx-auto text-center mb-12">
                        <h1 class="text-4xl font-bold font-display text-gray-900 mb-4">Get in Touch</h1>
                        <p class="text-gray-500">Have a question or suggestion? We'd love to hear from you.</p>
                    </div>
                    <div class="max-w-4xl mx-auto bg-brand-dark text-white p-12 rounded-[2.5rem] shadow-2xl text-center relative overflow-hidden">
                        <div class="absolute -top-20 -left-20 w-64 h-64 bg-white/5 rounded-full blur-3xl"></div>
                        <div class="absolute -bottom-20 -right-20 w-64 h-64 bg-white/5 rounded-full blur-3xl"></div>
                        
                        <div class="relative z-10 grid md:grid-cols-2 gap-12">
                            <div>
                                <div class="bg-white/10 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 backdrop-blur-md">
                                    <i data-lucide="mail" class="w-8 h-8 text-brand-light"></i>
                                </div>
                                <h3 class="text-xl font-bold font-display mb-1">Email Us</h3>
                                <a href="mailto:greenneeco@gmail.com" class="text-brand-light text-lg hover:underline opacity-90">greenneeco@gmail.com</a>
                            </div>
                            <div>
                                <div class="bg-white/10 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 backdrop-blur-md">
                                    <i data-lucide="phone" class="w-8 h-8 text-brand-light"></i>
                                </div>
                                <h3 class="text-xl font-bold font-display mb-1">Call Us</h3>
                                <p class="text-brand-light text-lg opacity-90">+91 99999999999</p>
                            </div>
                        </div>
                    </div>
                </div>`;
        }

        function renderPolicy(container, title, content) {
            container.innerHTML = `
                <div class="container mx-auto px-6 py-8">
                    <div class="max-w-4xl mx-auto bg-white p-8 md:p-16 rounded-[2.5rem] shadow-sm border border-gray-100 my-4 animate-fade-in-up">
                        <h1 class="text-3xl md:text-4xl font-bold font-display mb-10 text-gray-900 border-b pb-6">${title}</h1>
                        <div class="text-gray-600 text-lg space-y-6 leading-relaxed">
                            ${content}
                        </div>
                    </div>
                </div>`;
        }

        function render404(container) {
            container.innerHTML = `
                <div class="container mx-auto px-6 text-center py-32 max-w-lg mx-auto animate-fade-in-up">
                    <div class="bg-red-50 w-32 h-32 rounded-full flex items-center justify-center mx-auto mb-8 text-red-500">
                        <i data-lucide="leaf" class="w-16 h-16 transform rotate-180"></i>
                    </div>
                    <h1 class="text-5xl font-bold font-display text-gray-900 mb-6">404</h1>
                    <p class="text-xl text-gray-500 mb-10">Oops! This path has grown over. Let's get you back to your sustainable journey.</p>
                    <button onclick="router.navigate('home')" class="bg-brand-dark hover:bg-brand-primary text-white px-10 py-4 rounded-full font-bold transition shadow-lg btn-hover">
                        Return Home
                    </button>
                </div>
            `;
        }

        // --- API FUNCTIONS ---
        async function calculateShipping(pincode) {
            const shipDisplay = document.getElementById('shipping-display');
            const totalDisplay = document.getElementById('total-display');
            const msg = document.getElementById('pincode-msg');
            
            shipDisplay.innerHTML = '<span class="loader border-brand-primary"></span>';
            msg.innerHTML = '<span class="loader w-3 h-3 mr-2"></span> Fetching rates...';
            msg.className = "text-xs mt-2 text-brand-primary font-medium flex items-center";

            try {
                const response = await fetch('/.netlify/functions/get-shipping-rate', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ 
                        pincode: pincode,
                        weight: store.getCartWeight() 
                    })
                });

                const data = await response.json();
                
                if (data.shipping !== undefined) {
                    store.shipping = data.shipping;
                    shipDisplay.innerText = `₹${data.shipping}`;
                    totalDisplay.innerText = `₹${store.getFinalAmount()}`;
                    msg.innerHTML = '<i data-lucide="check-circle" class="w-4 h-4 mr-1"></i> Shipping calculated successfully';
                    msg.className = "text-xs mt-2 text-green-600 font-bold flex items-center";
                    lucide.createIcons();
                } else {
                    throw new Error("Invalid rate");
                }
            } catch (e) {
                console.error("Shipping calc error:", e);
                store.shipping = 150; 
                shipDisplay.innerText = "₹150";
                totalDisplay.innerText = `₹${store.getFinalAmount()}`;
                msg.innerHTML = '<i data-lucide="info" class="w-4 h-4 mr-1"></i> Standard shipping applied.';
                msg.className = "text-xs mt-2 text-orange-600 font-medium flex items-center";
                lucide.createIcons();
            }
        }

        async function handlePayment(e) {
            e.preventDefault();
            
            if (store.shipping === 0 && store.getCartTotal() > 0) {
                const pin = document.getElementById('cust-pincode').value;
                if(pin.length === 6) {
                    await calculateShipping(pin);
                } else {
                    alert("Please enter a valid 6-digit pincode to calculate shipping.");
                    return;
                }
            }

            const btn = document.getElementById('pay-btn');
            const originalText = btn.innerHTML;
            btn.innerHTML = '<div class="loader mr-2"></div> Processing...';
            btn.disabled = true;

            try {
                const formData = {
                    name: document.getElementById('cust-name').value,
                    email: document.getElementById('cust-email').value,
                    phone: document.getElementById('cust-phone').value,
                    address: document.getElementById('cust-address').value,
                    pincode: document.getElementById('cust-pincode').value,
                    city: document.getElementById('cust-city').value || '',
                    state: document.getElementById('cust-state').value || ''
                };

                const finalAmount = store.getFinalAmount();
                const orderResponse = await fetch('/.netlify/functions/create-order', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ amount: finalAmount, currency: "INR" }) 
                });

                if (!orderResponse.ok) throw new Error("Server could not create order");
                const orderData = await orderResponse.json();

                const options = {
                    key: RAZORPAY_KEY_ID, 
                    amount: orderData.amount, 
                    currency: orderData.currency,
                    name: "NeecoGreen",
                    description: `Order #${orderData.id}`,
                    image: "green-logo.png",
                    order_id: orderData.id,
                    handler: async function (response) {
                        btn.innerHTML = '<div class="loader mr-2"></div> Verifying...';
                        try {
                            const verifyResponse = await fetch('/.netlify/functions/verify-payment', {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify({
                                    razorpay_order_id: response.razorpay_order_id,
                                    razorpay_payment_id: response.razorpay_payment_id,
                                    razorpay_signature: response.razorpay_signature
                                })
                            });
                            
                            const verifyData = await verifyResponse.json();
                            if (verifyData.status !== 'success') throw new Error('Signature verification failed');

                            btn.innerHTML = '<div class="loader mr-2"></div> Finalizing...';
                            try {
                                const shipmentResponse = await fetch('/.netlify/functions/create-shipment', {
                                    method: 'POST',
                                    headers: { 'Content-Type': 'application/json' },
                                    body: JSON.stringify({
                                        order_id: orderData.id,
                                        customer: formData,
                                        items: store.cart,
                                        shipping_amount: store.shipping
                                    })
                                });
                                const shipmentData = await shipmentResponse.json();
                            } catch (shipError) {
                                console.error("Shipment Network Error:", shipError);
                            }

                            store.clearCart();
                            router.navigate('order-success', { id: orderData.id });

                        } catch (err) {
                            console.error("Payment Process Error:", err);
                            alert("Payment verification failed. If money deducted, contact support.");
                            btn.innerHTML = originalText;
                            btn.disabled = false;
                        }
                    },
                    prefill: {
                        name: formData.name,
                        email: formData.email,
                        contact: formData.phone
                    },
                    theme: { color: "#2E7D32" },
                    modal: {
                        ondismiss: function() {
                            btn.innerHTML = originalText;
                            btn.disabled = false;
                        }
                    }
                };

                const rzp = new Razorpay(options);
                rzp.on('payment.failed', function (response){
                    alert("Payment Failed: " + response.error.description);
                    btn.innerHTML = originalText;
                    btn.disabled = false;
                });
                rzp.open();

            } catch (error) {
                console.error("Checkout Error:", error);
                alert("Could not initiate payment. Please try again.");
                btn.innerHTML = originalText;
                btn.disabled = false;
            }
        }

        // --- UI UTILS ---
        function updateCartUI() {
            const count = store.cart.reduce((acc, item) => acc + item.qty, 0);
            const badge = document.getElementById('cart-count');
            badge.innerText = count;
            badge.classList.toggle('scale-0', count === 0);
        }

        function renderToast(msg) {
            const toast = document.createElement('div');
            toast.className = 'fixed bottom-8 left-1/2 transform -translate-x-1/2 bg-brand-dark text-white px-8 py-4 rounded-full shadow-2xl z-[100] flex items-center gap-3 animate-fade-in-up font-bold tracking-wide min-w-[300px] justify-center';
            toast.innerHTML = `<i data-lucide="check-circle" class="w-5 h-5 text-brand-secondary"></i> ${msg}`;
            document.body.appendChild(toast);
            setTimeout(() => { 
                toast.style.opacity = '0'; 
                toast.style.transform = 'translate(-50%, 20px)';
                setTimeout(() => toast.remove(), 400); 
            }, 3000);
            lucide.createIcons();
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            const overlay = document.getElementById('mobile-menu-overlay');
            const icon = document.getElementById('mobile-menu-icon');
            
            const isOpen = !menu.classList.contains('translate-x-full');
            
            if (isOpen) {
                menu.classList.add('translate-x-full');
                overlay.classList.remove('opacity-100', 'pointer-events-auto');
                overlay.classList.add('opacity-0', 'pointer-events-none');
            } else {
                menu.classList.remove('translate-x-full');
                overlay.classList.remove('opacity-0', 'pointer-events-none');
                overlay.classList.add('opacity-100', 'pointer-events-auto');
            }
        }

        // Intersection Observer for scroll animations
        function initScrollAnimations() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
        }

        // Window Event Listeners
        window.addEventListener('scroll', () => {
            const header = document.getElementById('main-header');
            if (window.scrollY > 10) {
                header.classList.add('shadow-card', 'bg-white/95');
                header.classList.remove('bg-white/90', 'border-transparent');
            } else {
                header.classList.remove('shadow-card', 'bg-white/95');
                header.classList.add('bg-white/90', 'border-transparent');
            }
        });

        window.onload = () => { 
            updateCartUI(); 
            router.navigate('home');
        };
    </script>
</body>
</html>
